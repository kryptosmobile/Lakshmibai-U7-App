"use-strict";var Obopayments;!function(e){const t="https://tst27.obopay.com",n=`${t}/payments`,o=document.createElement("script");o.src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js",document.head.appendChild(o);let a;window.onload=(()=>{$('<div id="app-container" style="background: rgba(31, 30, 76, 0.6); z-index:1000000000; width:100vw; height:100vh;  position:absolute; top:0px; left:0px; display:flex; align-items:center; justify-content:center;"><iframe id="oboIframe" frameborder=0></iframe>').prependTo(document.body),(s=document.getElementById("oboIframe")).src=n,p(),function(){const e="@media screen and (min-width : 450px) { \n                      iframe { \n                        width : 450px;\n                        height: 550px\n                      } \n                    }\n                    @media screen and (max-width : 450px) {\n                      iframe { \n                        height : 100%; \n                        width : 100%;\n                      }\n                    };",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}()}),window.onmessage=(e=>{if(e.origin!==t)return;const n=e.data;if(requestId=n.requestId,messageId=n.messageId,response=n.response,"JS_SHOWN"===messageId)return d=!0,void(a&&r&&R(a.businessId,a.mobileNo,a.authKey,a.businessName,a.businessLogoUrl,a.businessColorHex,a.callback));if(u[requestId]){if("DISMISS_APP"===messageId){var o=u[requestId];return delete u[requestId],o.callback(response),void p()}if(-3===requestId)return r=!0,void b();o=u[requestId];if(delete u[requestId],"FAILURE"===n.response.code){if("ONGOING_ACTION"===messageId)return void o.callback(response);p()}o.callback(response)}});let s,i=1,r=!0,d=!1,c=!1,u={};const l="0.2.0",I=function(){return function(e,t){this.requestId=e,this.callback=t}}(),f=function(){return function(e,t,n,o,a,s,i){this.businessId=e,this.mobileNo=t,this.authKey=n,this.businessName=o,this.businessLogoUrl=a,this.businessColorHex=s,this.callback=i}}();function m(e,t,n){if(r){e({code:"FAILURE",data:{errorCode:"SDK_INIT_PENDING",errorMessage:"Sdk is not initialised"}})}else c||(document.getElementById("app-container").style.visibility="visible",c=!0),N(e,"DIRECT_LINK",{directLink:t,dlParams:n})}function E(e,t,n){if(r){e({code:"FAILURE",data:{errorCode:"SDK_INIT_PENDING",errorMessage:"Sdk is not initialised"}})}else N(e,"API_REQUEST",{apiName:t,apiParams:n})}function N(e,t,n){const o=new I(i++,e);u[o.requestId]=o,test=o.requestId;const a={requestId:o.requestId,messageId:t,data:n};s.contentWindow.postMessage(a,"*")}function p(){document.getElementById("app-container").style.visibility="hidden",c=!1}function b(){d=!1,s.src=s.src}function R(e,t,n,o,s,i,c){if(u={},a=new f(e,t,n,o,s,i,c),r=!0,!d)return;N(function(e){if("FAILURE"!==e.code)r=!1,c(e);else switch(e.data.errorCode){case"RETRY_SDK_INIT":b(),R(a.businessId,a.mobileNo,a.authKey,a.businessName,a.businessLogoUrl,a.businessColorHex,a.callback);break;case"USER_NOT_ACTIVATED":r=!1,c(e);break;case"SDK_AUTH_EXPIRE":case"SDK_AUTH_INVALID":default:c(e)}},"REQUEST_SESSION",{version:l,businessId:e,mobileNo:t,authKey:n,businessName:o,businessLogoUrl:s,businessColorHex:i})}function g(e){m(function(t){t.data&&t.data.errorCode&&"OPERATION_IN_PROGRESS"===t.data.errorCode?e(t):(p(),e(t))},"sdkRoot/sdkLogin")}function y(e){E(function(t){"FAILURE"!==t.code||"NEED_MPIN_AUTH"!==t.data.code?e(t):g(y(e))},"getKycStatus")}e.initialize=R,e.activateUser=function(e,t){if(!e)throw Error("Missing User Details");m(function(e){e.data&&e.data.errorCode&&"OPERATION_IN_PROGRESS"===e.data.errorCode?t(e):(p(),t(e))},"sdkRoot/sdkRegistration",{userDetails:e})},e.updateUserDetails=function(e,t){E(function(e){p(),t(e)},"updateUserDetails",e)},e.loginUser=g,e.getKycStatus=y,e.getBalance=function(e){E(function(t){"FAILURE"!==t.code||"NEED_MPIN_AUTH"!==t.data.code?e(t):g(y(e))},"getBalance")},e.unlockCard=function e(t){E(function(n){"FAILURE"!==n.code||"NEED_MPIN_AUTH"!==n.data.code?t(n):g(e(t))},"unlockCard")},e.getCardStatus=function e(t){E(function(n){"FAILURE"!==n.code||"NEED_MPIN_AUTH"!==n.data.code?t(n):g(e(t))},"getCardStatus")},e.viewTransactionHistory=function(e,t){m(function(e){e.data&&e.data.errorCode&&"OPERATION_IN_PROGRESS"===e.data.errorCode?t(e):(p(),t(e))},"walletMgmt/walletHistory",e)},e.selectTransactionHistory=function(e,t){m(function(e){e.data&&e.data.errorCode&&"OPERATION_IN_PROGRESS"===e.data.errorCode?t(e):(p(),t(e))},"walletMgmt/walletHistory",{walletType:e.walletType,selectable:!0})},e.addMoney=function(e,t){m(function(e){e.data&&e.data.errorCode&&"OPERATION_IN_PROGRESS"===e.data.errorCode?t(e):(p(),t(e))},"loadMoney/selectPg",e)},e.sendMoney=function(e,t){m(function(e){e.data&&e.data.errorCode&&"OPERATION_IN_PROGRESS"===e.data.errorCode?t(e):(p(),t(e))},"sendMoney/transMoney",e)},e.collectRequest=function(e,t){m(function(e){e.data&&e.data.errorCode&&"OPERATION_IN_PROGRESS"===e.data.errorCode?t(e):(p(),t(e))},"sendMoney/collectRequest",e)},e.lockCard=function(e){m(function(t){t.data&&t.data.errorCode&&"OPERATION_IN_PROGRESS"===t.data.errorCode?e(t):(p(),e(t))},"cardMgmt/changeCardStatus",{action:"LOCK"})},e.blockCard=function(e){m(function(t){t.data&&t.data.errorCode&&"OPERATION_IN_PROGRESS"===t.data.errorCode?e(t):(p(),e(t))},"cardMgmt/changeCardStatus",{action:"BLOCK"})},e.reqMoney=function(e,t){m(function(e){p(),t(e)},"reqMoney/selectSender",{mobileNo:e.mobileNo,amount:e.amount})},e.closeApp=function(){m(()=>{},"landing/index"),p()},e.payViaQrCode=function(e,t){m(function(e){p(),t(e)},"scanAndPay/scanMerchantQr",{amount:e.amount})}}(Obopayments||(Obopayments={}));